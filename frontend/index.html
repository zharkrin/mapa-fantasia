<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Generador de Mapa Fantástico</title>

  <!-- ==============================
       ESTILOS
  =============================== -->
  <link rel="stylesheet" href="frontend/css/estilo.css" />
  <link rel="stylesheet" href="frontend/css/leyenda.css" />

  <style>
    /* Aseguramos que el mapa ocupe toda la pantalla */
    body {
      margin: 0;
      padding: 0;
      background-color: #111;
      color: #eee;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow: hidden;
    }

    h1 {
      text-align: center;
      font-size: 2.2em;
      margin-top: 15px;
      letter-spacing: 1px;
    }

    #mapa {
      position: relative;
      width: 100%;
      height: 85vh;
      background-color: #1b1b1b;
      border: 2px solid #333;
      overflow: hidden;
    }

    /* Botones */
    .botones {
      display: flex;
      justify-content: center;
      margin: 15px 0;
      gap: 15px;
    }

    .boton {
      background-color: #2c2c2c;
      color: #fff;
      border: 1px solid #555;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .boton:hover {
      background-color: #444;
    }

    /* Iconos de terrenos especiales */
    .icono-terreno-especial {
      filter: drop-shadow(0 0 3px rgba(255, 255, 255, 0.3));
    }
  </style>
</head>

<body>
  <h1>🌍 Generador de Mapa Fantástico</h1>

  <div class="botones">
    <button class="boton" onclick="generarTerrenosEspeciales()">🔄 Generar Terrenos Especiales</button>
    <button class="boton" onclick="limpiarTerrenosEspeciales()">🧹 Limpiar</button>
    <button class="boton" onclick="toggleLeyenda()">📜 Leyenda</button>
  </div>

  <!-- Contenedor principal del mapa -->
  <div id="mapa"></div>

  <!-- Leyenda lateral -->
  <div id="panel-leyenda" class="leyenda-contenedor oculto">
    <div class="leyenda-header">
      <h2>📜 Leyenda del Terreno</h2>
      <button id="cerrar-leyenda" class="boton-cerrar" onclick="toggleLeyenda()">Cerrar ✖</button>
    </div>
    <div id="contenido-leyenda" class="leyenda-lista">
      <!-- Se llena automáticamente desde leyendaTerrenoEspecial.js -->
    </div>
  </div>

  <!-- ==============================
       SCRIPTS
  =============================== -->
  <!-- Dependencias principales -->
  <script src="frontend/js/mapa/leyendaTerrenoEspecial.js"></script>
  <script src="frontend/js/mapa/terrenoEspecial.js"></script>

  <!-- Inicialización -->
  <script>
    window.addEventListener("load", () => {
      cargarLeyendaTerrenoEspecial();
      generarTerrenosEspeciales();
    });

    function toggleLeyenda() {
      const panel = document.getElementById("panel-leyenda");
      panel.classList.toggle("oculto");
    }
  </script>
</body>
</html>